<!DOCTYPE html>
<html lang="zh-Hant" class="han-init">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <title>一刹那</title>
  <link rel="stylesheet" href="assets/hack.css?v=0.5.0">
  <link rel="stylesheet" href="assets/dark.css?v=0.5.0">
  <link rel="stylesheet" href="assets/Han/han.min.css?v=3.3.0">
  <link rel="stylesheet" href="assets/app.css?v=1.0.0">
  <script src="assets/do.min.js?v=2.0.0"></script>
</head>

<body class="hack dark">
  <div id="app" class="container">
    <!-- header  -->
    <header class="main-header m-b">
      <h1>一刹那</h1>
      <h2>一期一会，难得一面，世当珍惜</h2>
      <nav>
        <a href="#/posts">帖子</a>
      </nav>
    </header>

    <!-- main -->
    <section>
      <div class="grid">
        <!-- main content -->
        <div class="cell -9of12 main-content m-b">
          <component :is="currentView" keep-alive></component>
        </div>

        <!-- main sidebar -->
        <div class="cell -3of12 main-sidebar m-b">
          <manager></manager>
          <div class="card m-b">
            <header class="card-header">时间</header>
            <div class="card-content">
              <div class="inner">
                <p class="poem-like">
                  一刹那为一念；<br> 二十念为一瞬；
                  <br> 二十瞬为一弹指；
                  <br> 二十弹指为一罗预；
                  <br> 二十罗预为一须臾；
                  <br> 一日一夜有三十须臾；
                  <br> 那么————
                  <br> 一昼夜有八万六千四百秒；
                  <br> 一须臾等于二千八百八十秒；
                  <br> 一弹指等于七点二秒；
                  <br> 一瞬间等于零点三六秒；
                  <br> 一刹那却只有零点零一八秒。
                  <br>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- footer -->
    <footer class="main-footer">
      <p class="poem-like">公元二零一六年 ——<u class='pn'>我</u></p>
    </footer>
    <alert v-show="showAlert" :type="alertType" :msg="alertMsg"></alert>
  </div>

  <!-- templates -->

  <!-- alert tpl -->
  <script id="alert" type="html">
    <div class="alert" 
      :class="{ 'alert-success': type === 'success', 'alert-info': type === 'info', 
      'alert-warning': type === 'warning', 'alert-error': type === 'error' }">
      {{ msg }}
    </div>
  </script>

  <!-- posts view tpl -->
  <script id="posts-view" type="html">
    <div class="posts-view">
      <media-list></media-list>
    </div>
  </script>

  <!-- post view tpl -->
  <script id="post-view" type="html">
    <div class="post-view">
      <article>
        <h3>{{ title }}</h3>
        <header>
          作者：<u class="pn">{{ author }}</u> 发布时间：
          <time :datetime="datetime">{{ datetime | timeago }}</time>
        </header>
        <blockquote :cite="cite">
          {{ blockquote }}
        </blockquote>
        <div class="description">
          {{ description }}
        </div>
        <div class="content">
          {{ content }}
        </div>
      </article>
    </div>
  </script>

  <!-- media list tpl -->
  <script id="media-list" type="html">
    <div class="media-list">
      <div class="media" v-for="m in medias" track-by="id">
        <div class="media-left">
          <div class="avatarholder">{{ m.author }}</div>
        </div>
        <div class="media-body">
          <div class="media-heading">
            <a :href="'#/post/' + m.id">{{ m.title }}</a>
            <time :datetime="m.datetime">{{ m.datetime | timeago }}</time>
          </div>
          <div class="media-content">{{ m.description }}</div>
        </div>
      </div>
    </div>
  </script>

  <!-- manager tpl -->
  <script id="manager" type="html">
    <div class="manager">
      <div class="card m-b">
        <header class="card-header">管理</header>
        <div class="card-content">
          <div class="inner">
            <button class="btn btn-default btn-ghost" v-if="!auth" @click="login">登录</button>
            <div class="actions" v-if="auth">
              <div class="grid">
                <div class="cell -4of12">
                  <div>
                    <span class="number">18</span>
                  </div>
                  <div class="divider"></div>
                  <div>
                    <span>节点</span>
                  </div>
                </div>
                <div class="cell -4of12">
                  <div>
                    <span class="number">28</span>
                  </div>
                  <div class="divider"></div>
                  <div>
                    <span>帖子</span>
                  </div>
                </div>
                <div class="cell -4of12">
                  <div>
                    <span class="number">38</span>
                  </div>
                  <div class="divider"></div>
                  <div>
                    <span>评论</span>
                  </div>
                </div>
              </div>
              <div>
                <a href="#/compose">发布</a>
                <a href="javascript:;" @click="logout">退出</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <login-form v-show="showLoginForm"></login-form>
    </div>
  </script>

  <!-- login form tpl -->
  <script id="login-form" type="html">
    <div class="login-form">
      <form class="form" @submit.prevent="submit">
        <div class="wrapper">
          <div class="caption">
            一刹那
          </div>
          <p class="sub-caption">一期一会，世当珍惜</p>
          <fieldset class="form-group" :class="{ 'form-error': !emailValid, 'form-success': emailValid, 'form-warning': emailDefaultValid }">
            <input autocomplete="off" id="email" type="email" placeholder="邮箱" class="form-control" v-model="email" @keyup="validateEmail(email)">
          </fieldset>
          <fieldset class="form-group" :class="{ 'form-error': !passwordValid, 'form-success': passwordValid, 'form-warning': passwordDefaultValid }">
            <input id="password" type="password" placeholder="密码" class="form-control" v-model="password" @keyup="validatePassword(password)">
          </fieldset>
          <div class="form-actions">
            <button :disabled="!emailValid || !passwordValid" type="submit" class="btn btn-default btn-ghost btn-block" :class="{ 'disabled': !emailValid || !passwordValid }">
              <div class="loading" v-show="loading"></div>
              登录
            </button>
          </div>
        </div>
      </form>
      <button type="button" class="close" @click="close">关闭</button>
    </div>
  </script>
  <script src="assets/Han/han.min.js?v=3.3.0"></script>
  <script src="assets/main.js?v=0.0.1"></script>
</body>

</html>